(this.webpackJsonpreact_first=this.webpackJsonpreact_first||[]).push([[0],{117:function(e,t,a){"use strict";t.a=a.p+"static/media/logo.e25a43af.png"},302:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(3),c=a(13),s=a(0),i=a.n(s),r=a(1),o=["indeterminate"],l=i.a.forwardRef((function(e,t){var a=e.indeterminate,s=Object(c.a)(e,o),l=i.a.useRef(),d=t||l;return i.a.useEffect((function(){d.current.indeterminate=a}),[d,a]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("input",Object(n.a)({type:"checkbox",ref:d},s))})}))},428:function(e,t,a){"use strict";(function(e){var n=a(50),c=a(10),s=a(3),i=a(74),r=a.n(i),o=a(214),l=a(5),d=a(0),b=(a(57),a(41)),j=a(91),u=a(43),m=a(42),h=a(22),p=a(19),O=a(431),f=a(68),x=a.n(f),g=(a(72),a(301)),y=a(302),v=a(49),N=a(47),w=a.n(N),S=a(429),T=a(215),C=a.n(T),k=a(430),I=a.n(k),P=a(1);t.a=function(){var t=Object(d.useState)(),a=Object(l.a)(t,2),i=a[0],f=a[1],N=Object(d.useState)(),T=Object(l.a)(N,2),k=T[0],D=T[1],M=Object(d.useState)(),E=Object(l.a)(M,2),A=E[0],q=E[1],B=Object(d.useState)(!1),H=Object(l.a)(B,2),L=H[0],_=H[1];Object(d.useEffect)((function(){window.ethereum||w()({title:"Non ethereum browser detected!",text:"Please Install Metamask to Continue",icon:"warning",closeOnClickOutside:!1,buttons:"Continue"}).then((function(){window.open("https://metamask.io/download","_blank")}))}),[]),Object(d.useEffect)((function(){L&&w()({title:"Please Wait",text:"The Transaction is being processed",icon:"warning",buttons:!1,closeOnClickOutside:!1})}),[L]);var U=function(){var t=Object(o.a)(r.a.mark((function t(){var a,n,c,s,o,l,d,b;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"undefined"==typeof window.ethereum&&w()({title:"Connection Error!",text:"The Meta Mask is not connected",icon:"warning",buttons:!0}),a=new C.a(window.ethereum),t.next=4,a.eth.getAccounts();case 4:return 0===(n=t.sent).length&&w()({title:"Connection Error!",text:"There are no Account connected",icon:"warning",buttons:!0}),q(n[0]),t.next=9,a.eth.net.getId();case 9:if(3!==t.sent){t.next=28;break}return c=new a.eth.Contract(S.abi,"0xc0340ec7B5C59bB6649f7b37D23C4f97944aC504"),s=JSON.stringify({SafeEnviro:xe.map((function(e){return e.original}))},null,2),o=I()(e.from(s)),l="0x"+o,console.log(l),console.log(s),_(!0),t.next=20,c.methods.store(l).send({from:n[0]}).then((function(e){_(!1),console.log(e);var t=e.blockNumber,a=e.transactionHash,n=[xe.map((function(e){return e.original})),t,a];console.log(n),x.a.post("http://localhost:3001/reviewsubmit",n).then((function(e){e.err?w()({title:"Transaction Incomplete!",text:e.data.err,icon:"warning"}):e.data.err?e.data.err.sqlMessage?w()({title:"Transaction Incomplete!",text:e.data.err.sqlMessage,icon:"warning"}):($(),w()({title:"Transaction Incomplete!",text:e.data.err,icon:"warning"})):e.data.sqlMessage?w()({title:"Transaction Incomplete!",text:e.data.sqlMessage,icon:"warning"}):w()({title:"Transaction Complete!",text:e.data.message,icon:"success",closeOnClickOutside:!1,button:!0}).then((function(){window.location.reload()}))})).catch((function(e){console.log(e),w()({title:"Transaction Incomplete!",text:e.message,icon:"warning"})}))})).catch((function(e){_(!1),w()({title:"Transaction Incomplete!",text:e.message+", this could also be due to insufficient funds or network congestions. Please resubmit the transaction.",icon:"warning"})}));case 20:return d=t.sent,f(d),t.next=24,c.methods.retrieve().call();case 24:b=t.sent,D(b),t.next=29;break;case 28:w()({title:"Network Error!",text:"The contract is not detected by the network. Please ensure you're connected to the Ethereum Ropsten network through Metamask.",icon:"warning",buttons:!0});case 29:console.log(i),console.log(k),console.log(A);case 32:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=[{Header:"Id",accessor:"collectionid"},{Header:"Collection Point",accessor:"collectionpoint"},{Header:"Collected By",accessor:"collectedby"},{Header:"Waste Type",accessor:"wastetype"},{Header:"Collecting Equipment",accessor:"collectingequipment"},{Header:"Quantity",accessor:"quantity"},{Header:"Date & Time",accessor:"dateandtime"},{Header:"Tipping Point",accessor:"tippingpoint",Cell:function(e){var t=e.value,a=e.row.index,n=e.column.id,c=e.updateMyData,s=Object(d.useState)(t),i=Object(l.a)(s,2),r=i[0],o=i[1];return Object(d.useEffect)((function(){o(t)}),[t]),Object(P.jsx)("input",{className:"tipP",placeholder:"Insert Tipping Point",value:r,onChange:function(e){o(e.target.value)},onBlur:function(){c(a,n,r)}})}}],G=Object(d.useState)(!1),F=Object(l.a)(G,2),V=F[0],z=F[1],Y=Object(d.useState)(!1),J=Object(l.a)(Y,2),W=J[0],Q=J[1],K=Object(d.useState)(""),Z=Object(l.a)(K,2),X=Z[0],$=Z[1],ee=Object(d.useState)([]),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],ce=Object(d.useState)([]),se=Object(l.a)(ce,2),ie=se[0],re=se[1],oe=Object(d.useState)(!1),le=Object(l.a)(oe,2),de=le[0],be=le[1];Object(d.useEffect)((function(){x.a.get("http://localhost:3001/reviewform").then((function(e){ne(e.data.result),re(e.data.result)})).catch((function(e){console.log(e),z(!0),$(e.message)}))}),[]),Object(d.useEffect)((function(){be(!1)}),[ae]);var je=Object(d.useMemo)((function(){return R}),[]),ue=Object(g.useTable)({columns:je,data:ae,autoResetPage:!de,updateMyData:function(e,t,a){be(!0),ne((function(n){return n.map((function(i,r){return r===e?Object(s.a)(Object(s.a)({},n[e]),{},Object(c.a)({},t,a)):i}))}))}},g.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[].concat(Object(n.a)(e),[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(P.jsx)(y.a,Object(s.a)({},t()))},Cell:function(e){var t=e.row;return Object(P.jsx)(y.a,Object(s.a)({},t.getToggleRowSelectedProps()))}}])}))})),me=ue.getTableProps,he=ue.getTableBodyProps,pe=ue.headerGroups,Oe=ue.rows,fe=ue.prepareRow,xe=ue.selectedFlatRows,ge=function(){setTimeout((function(){window.location.reload()}),3500)};return Object(P.jsxs)("div",{className:"bg-light",children:[Object(P.jsx)(v.a,{}),Object(P.jsx)(b.a,{className:"justify-content-center col-lg-10 col-md-10 col-sm-12 card-div",children:Object(P.jsx)(h.a,{className:"w-100",children:Object(P.jsxs)(h.a.Body,{children:[Object(P.jsx)(h.a.Title,{children:Object(P.jsx)("h2",{children:"Waste collection review form"})}),Object(P.jsx)(h.a.Subtitle,{className:"mb-2 text-muted",children:"."}),Object(P.jsxs)(p.a,{className:"wastereviewform",children:[Object(P.jsx)(u.a,{children:Object(P.jsx)(m.a,{children:Object(P.jsxs)(O.a,Object(s.a)(Object(s.a)({id:"review-table",bordered:!0,hover:!0,responsive:!0,size:"sm"},me),{},{children:[Object(P.jsx)("thead",{children:pe.map((function(e){return Object(P.jsx)("tr",Object(s.a)(Object(s.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(P.jsx)("th",Object(s.a)(Object(s.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(P.jsx)("tbody",Object(s.a)(Object(s.a)({className:"reviewtbody"},he),{},{children:Oe.length>0?Oe.map((function(e){return fe(e),Object(P.jsx)("tr",Object(s.a)(Object(s.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(P.jsx)("td",Object(s.a)(Object(s.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))})):Object(P.jsx)("tr",{children:Object(P.jsx)("td",{colSpan:"9",children:Object(P.jsx)(j.a,{variant:"danger",className:"alert-div mb-0",children:"This Table doesn't have any data for now."})})})}))]}))})}),Object(P.jsxs)(u.a,{children:[Object(P.jsx)(m.a,{className:"flex justify-content-start",children:Object(P.jsx)("button",{className:"btn-reset",type:"reset",onClick:function(){return ne(ie)},children:"RESET"})}),Object(P.jsxs)(m.a,{className:"flex justify-content-end",children:[Object(P.jsx)("button",{className:"btn-rem",onClick:function(e){e.preventDefault();var t=xe.map((function(e){return e.original}));0===t.length?($("Select data to be removed!"),z(!0),setTimeout((function(){z(!1)}),5e3)):w()({title:"Are you sure?",text:"Once deleted, this data can not be recovered!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e?x.a.post("http://localhost:3001/removedata",t).then((function(e){console.log(e),e.err?($(e.data.err),z(!0),setTimeout((function(){z(!1)}),5e3)):e.data.err?e.data.err.sqlMessage?($(e.data.err.sqlMessage),z(!0),setTimeout((function(){z(!1)}),5e3)):($(e.data.err),z(!0),setTimeout((function(){z(!1)}),5e3)):($(e.data.message),Q(!0),ge(),z(!1))})).catch((function(e){console.log(e),$(e.message),z(!0),setTimeout((function(){z(!1)}),5e3)})):($("Your data is safe!"),Q(!0),setTimeout((function(){Q(!1)}),5e3))}))},children:"REMOVE DATA"}),Object(P.jsx)("button",{className:"btn-sub",type:"button",onClick:function(){var e=localStorage.getItem("isMetaMask"),t=JSON.parse(e);if(e)if(!0===t){var a=xe.map((function(e){return e.original}));0===a.length?w()({title:"Transaction Unable!",text:"Select one or more reviewed data to continue",icon:"warning"}):x.a.post("http://localhost:3001/check",a).then((function(e){e.data.message?U():e.data.err&&($(),w()({title:"Transaction Unable!",text:e.data.err,icon:"warning"}))})).catch((function(e){w()({title:"Transaction Unable!",text:e.message,icon:"warning"})}))}else w()({title:"Connect to MetaMask!",text:"To complete this action metamask is needed",icon:"warning"});else w()({title:"Connect to MetaMask!",text:"To complete this action metamask is needed",icon:"warning"})},children:"SUBMIT FORM"})]})]}),Object(P.jsxs)(u.a,{className:"mt-3",children:[V&&Object(P.jsx)(j.a,{variant:"danger",className:"alert-div",children:X}),W&&Object(P.jsx)(j.a,{variant:"success",className:"alert-div",children:X})]})]})]})})})]})}}).call(this,a(16).Buffer)},429:function(e){e.exports=JSON.parse('{"contractName":"Storehash","abi":[{"constant":false,"inputs":[{"internalType":"bytes","name":"hash","type":"bytes"}],"name":"store","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"retrieve","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"}],"metadata":"{\\"compiler\\":{\\"version\\":\\"0.5.16+commit.9c3226ce\\"},\\"language\\":\\"Solidity\\",\\"output\\":{\\"abi\\":[{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"retrieve\\",\\"outputs\\":[{\\"internalType\\":\\"bytes\\",\\"name\\":\\"\\",\\"type\\":\\"bytes\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"bytes\\",\\"name\\":\\"hash\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"store\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"}],\\"devdoc\\":{\\"methods\\":{}},\\"userdoc\\":{\\"methods\\":{}}},\\"settings\\":{\\"compilationTarget\\":{\\"/C/Users/Arshed Ahmed/Desktop/Safeenviro/Project/Dapp/contracts/StoreHash.sol\\":\\"Storehash\\"},\\"evmVersion\\":\\"istanbul\\",\\"libraries\\":{},\\"optimizer\\":{\\"enabled\\":false,\\"runs\\":200},\\"remappings\\":[]},\\"sources\\":{\\"/C/Users/Arshed Ahmed/Desktop/Safeenviro/Project/Dapp/contracts/StoreHash.sol\\":{\\"keccak256\\":\\"0x3c93a62efdb3ea92932d25aabad4109293585557a0597219ff7a6cad09c2ef8c\\",\\"urls\\":[\\"bzz-raw://5e512197150970079037d07df5a955e6e7f7020de1ca76bf64ef7ab14d4b46eb\\",\\"dweb:/ipfs/Qmf8r3BoL6oBranrBpUkps2FVqLdPZHajbQkgkBdx3KYXi\\"]}},\\"version\\":1}","bytecode":"0x608060405234801561001057600080fd5b5061030f806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80632e64cec11461003b578063b374012b146100be575b600080fd5b610043610179565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610083578082015181840152602081019050610068565b50505050905090810190601f1680156100b05780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610177600480360360208110156100d457600080fd5b81019080803590602001906401000000008111156100f157600080fd5b82018360208201111561010357600080fd5b8035906020019184600183028401116401000000008311171561012557600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050919291929050505061021b565b005b606060008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102115780601f106101e657610100808354040283529160200191610211565b820191906000526020600020905b8154815290600101906020018083116101f457829003601f168201915b5050505050905090565b8060009080519060200190610231929190610235565b5050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061027657805160ff19168380011785556102a4565b828001600101855582156102a4579182015b828111156102a3578251825591602001919060010190610288565b5b5090506102b191906102b5565b5090565b6102d791905b808211156102d35760008160009055506001016102bb565b5090565b9056fea265627a7a7231582037bc3a18c663a0ff100cea3142e121c2e9230ea07c2ebd54238a013ebb13459f64736f6c63430005100032","deployedBytecode":"0x608060405234801561001057600080fd5b50600436106100365760003560e01c80632e64cec11461003b578063b374012b146100be575b600080fd5b610043610179565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610083578082015181840152602081019050610068565b50505050905090810190601f1680156100b05780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610177600480360360208110156100d457600080fd5b81019080803590602001906401000000008111156100f157600080fd5b82018360208201111561010357600080fd5b8035906020019184600183028401116401000000008311171561012557600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050919291929050505061021b565b005b606060008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102115780601f106101e657610100808354040283529160200191610211565b820191906000526020600020905b8154815290600101906020018083116101f457829003601f168201915b5050505050905090565b8060009080519060200190610231929190610235565b5050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061027657805160ff19168380011785556102a4565b828001600101855582156102a4579182015b828111156102a3578251825591602001919060010190610288565b5b5090506102b191906102b5565b5090565b6102d791905b808211156102d35760008160009055506001016102bb565b5090565b9056fea265627a7a7231582037bc3a18c663a0ff100cea3142e121c2e9230ea07c2ebd54238a013ebb13459f64736f6c63430005100032","sourceMap":"71:274:1:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;71:274:1;;;;;;;","deployedSourceMap":"71:274:1:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;71:274:1;;;;;;;;;;;;;;;;;;;;;;;;253:89;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;99:1;94:3;90:11;84:18;80:1;75:3;71:11;64:39;52:2;49:1;45:10;40:15;;8:100;;;12:14;253:89:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;165:76;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;165:76:1;;;;;;;;;;21:11:-1;8;5:28;2:2;;;46:1;43;36:12;2:2;165:76:1;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;165:76:1;;;;;;100:9:-1;95:1;81:12;77:20;67:8;63:35;60:50;39:11;25:12;22:29;11:107;8:2;;;131:1;128;121:12;8:2;165:76:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;93:3;85:6;81:16;74:27;137:4;133:9;126:4;121:3;117:14;113:30;106:37;;169:3;161:6;157:16;147:26;;165:76:1;;;;;;;;;;;;;;;:::i;:::-;;253:89;294:12;325:9;318:16;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;253:89;:::o;165:76::-;229:4;217:9;:16;;;;;;;;;;;;:::i;:::-;;165:76;:::o;71:274::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o","source":"// SPDX-License-Identifier: MIT\\r\\npragma solidity >=0.4.22 <0.9.0;\\r\\n\\r\\n\\r\\ncontract Storehash {\\r\\n\\r\\n    bytes wasteHash;\\r\\n\\r\\n\\r\\n    //address payable wasteHash;\\r\\n    \\r\\n    function store(bytes memory hash) public {\\r\\n        wasteHash = hash;\\r\\n    }\\r\\n    \\r\\n    function retrieve() public view returns (bytes memory){\\r\\n        return wasteHash;\\r\\n    }\\r\\n}","sourcePath":"C:/Users/Arshed Ahmed/Desktop/Safeenviro/Project/Dapp/contracts/StoreHash.sol","ast":{"absolutePath":"/C/Users/Arshed Ahmed/Desktop/Safeenviro/Project/Dapp/contracts/StoreHash.sol","exportedSymbols":{"Storehash":[55]},"id":56,"nodeType":"SourceUnit","nodes":[{"id":34,"literals":["solidity",">=","0.4",".22","<","0.9",".0"],"nodeType":"PragmaDirective","src":"33:32:1"},{"baseContracts":[],"contractDependencies":[],"contractKind":"contract","documentation":null,"fullyImplemented":true,"id":55,"linearizedBaseContracts":[55],"name":"Storehash","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":36,"name":"wasteHash","nodeType":"VariableDeclaration","scope":55,"src":"99:15:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes"},"typeName":{"id":35,"name":"bytes","nodeType":"ElementaryTypeName","src":"99:5:1","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"body":{"id":45,"nodeType":"Block","src":"206:35:1","statements":[{"expression":{"argumentTypes":null,"id":43,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":41,"name":"wasteHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36,"src":"217:9:1","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":42,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38,"src":"229:4:1","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"src":"217:16:1","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"id":44,"nodeType":"ExpressionStatement","src":"217:16:1"}]},"documentation":null,"id":46,"implemented":true,"kind":"function","modifiers":[],"name":"store","nodeType":"FunctionDefinition","parameters":{"id":39,"nodeType":"ParameterList","parameters":[{"constant":false,"id":38,"name":"hash","nodeType":"VariableDeclaration","scope":46,"src":"180:17:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":37,"name":"bytes","nodeType":"ElementaryTypeName","src":"180:5:1","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"179:19:1"},"returnParameters":{"id":40,"nodeType":"ParameterList","parameters":[],"src":"206:0:1"},"scope":55,"src":"165:76:1","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":53,"nodeType":"Block","src":"307:35:1","statements":[{"expression":{"argumentTypes":null,"id":51,"name":"wasteHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36,"src":"325:9:1","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"functionReturnParameters":50,"id":52,"nodeType":"Return","src":"318:16:1"}]},"documentation":null,"id":54,"implemented":true,"kind":"function","modifiers":[],"name":"retrieve","nodeType":"FunctionDefinition","parameters":{"id":47,"nodeType":"ParameterList","parameters":[],"src":"270:2:1"},"returnParameters":{"id":50,"nodeType":"ParameterList","parameters":[{"constant":false,"id":49,"name":"","nodeType":"VariableDeclaration","scope":54,"src":"294:12:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":48,"name":"bytes","nodeType":"ElementaryTypeName","src":"294:5:1","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"293:14:1"},"scope":55,"src":"253:89:1","stateMutability":"view","superFunction":null,"visibility":"public"}],"scope":56,"src":"71:274:1"}],"src":"33:312:1"},"legacyAST":{"attributes":{"absolutePath":"/C/Users/Arshed Ahmed/Desktop/Safeenviro/Project/Dapp/contracts/StoreHash.sol","exportedSymbols":{"Storehash":[55]}},"children":[{"attributes":{"literals":["solidity",">=","0.4",".22","<","0.9",".0"]},"id":34,"name":"PragmaDirective","src":"33:32:1"},{"attributes":{"baseContracts":[null],"contractDependencies":[null],"contractKind":"contract","documentation":null,"fullyImplemented":true,"linearizedBaseContracts":[55],"name":"Storehash","scope":56},"children":[{"attributes":{"constant":false,"name":"wasteHash","scope":55,"stateVariable":true,"storageLocation":"default","type":"bytes","value":null,"visibility":"internal"},"children":[{"attributes":{"name":"bytes","type":"bytes"},"id":35,"name":"ElementaryTypeName","src":"99:5:1"}],"id":36,"name":"VariableDeclaration","src":"99:15:1"},{"attributes":{"documentation":null,"implemented":true,"isConstructor":false,"kind":"function","modifiers":[null],"name":"store","scope":55,"stateMutability":"nonpayable","superFunction":null,"visibility":"public"},"children":[{"children":[{"attributes":{"constant":false,"name":"hash","scope":46,"stateVariable":false,"storageLocation":"memory","type":"bytes","value":null,"visibility":"internal"},"children":[{"attributes":{"name":"bytes","type":"bytes"},"id":37,"name":"ElementaryTypeName","src":"180:5:1"}],"id":38,"name":"VariableDeclaration","src":"180:17:1"}],"id":39,"name":"ParameterList","src":"179:19:1"},{"attributes":{"parameters":[null]},"children":[],"id":40,"name":"ParameterList","src":"206:0:1"},{"children":[{"children":[{"attributes":{"argumentTypes":null,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"operator":"=","type":"bytes storage ref"},"children":[{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":36,"type":"bytes storage ref","value":"wasteHash"},"id":41,"name":"Identifier","src":"217:9:1"},{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":38,"type":"bytes memory","value":"hash"},"id":42,"name":"Identifier","src":"229:4:1"}],"id":43,"name":"Assignment","src":"217:16:1"}],"id":44,"name":"ExpressionStatement","src":"217:16:1"}],"id":45,"name":"Block","src":"206:35:1"}],"id":46,"name":"FunctionDefinition","src":"165:76:1"},{"attributes":{"documentation":null,"implemented":true,"isConstructor":false,"kind":"function","modifiers":[null],"name":"retrieve","scope":55,"stateMutability":"view","superFunction":null,"visibility":"public"},"children":[{"attributes":{"parameters":[null]},"children":[],"id":47,"name":"ParameterList","src":"270:2:1"},{"children":[{"attributes":{"constant":false,"name":"","scope":54,"stateVariable":false,"storageLocation":"memory","type":"bytes","value":null,"visibility":"internal"},"children":[{"attributes":{"name":"bytes","type":"bytes"},"id":48,"name":"ElementaryTypeName","src":"294:5:1"}],"id":49,"name":"VariableDeclaration","src":"294:12:1"}],"id":50,"name":"ParameterList","src":"293:14:1"},{"children":[{"attributes":{"functionReturnParameters":50},"children":[{"attributes":{"argumentTypes":null,"overloadedDeclarations":[null],"referencedDeclaration":36,"type":"bytes storage ref","value":"wasteHash"},"id":51,"name":"Identifier","src":"325:9:1"}],"id":52,"name":"Return","src":"318:16:1"}],"id":53,"name":"Block","src":"307:35:1"}],"id":54,"name":"FunctionDefinition","src":"253:89:1"}],"id":55,"name":"ContractDefinition","src":"71:274:1"}],"id":56,"name":"SourceUnit","src":"33:312:1"},"compiler":{"name":"solc","version":"0.5.16+commit.9c3226ce.Emscripten.clang"},"networks":{"5777":{"events":{},"links":{},"address":"0x341ac543103786e89B9600b7ed364ad6CA5b0d67","transactionHash":"0xa9d13b01c434230990a03d36b4774f92dd693c4114e73f4fe2fb82a015ec5670"}},"schemaVersion":"3.4.1","updatedAt":"2021-09-18T08:14:14.110Z","networkType":"ethereum","devdoc":{"methods":{}},"userdoc":{"methods":{}}}')},49:function(e,t,a){"use strict";var n=a(0),c=(a(57),a(74)),s=a.n(c),i=a(214),r=a(5),o=a(69),l=a(169),d=a(117),b=a(41),j=a(32),u=a(48),m=a(215),h=a.n(m),p=a(47),O=a.n(p),f=a.p+"static/media/metamask.4368e45a.svg",x=a(195),g=a(191),y=(a(761),a(1));var v=function(){var e=Object(n.useState)(0),t=Object(r.a)(e,2),a=t[0],c=t[1],m=Object(n.useState)(),p=Object(r.a)(m,2),v=p[0],N=p[1],w=Object(n.useState)([]),S=Object(r.a)(w,2),T=S[0],C=S[1],k=Object(n.useState)(),I=Object(r.a)(k,2),P=I[0],D=I[1];Object(n.useEffect)((function(){var e=localStorage.getItem("isMetaMask");N("undefined"!==e&&JSON.parse(e))}),[]),window.ethereum&&(window.ethereum.on("accountsChanged",(function(e){M()})),window.ethereum.on("chainChanged",(function(e){M()})));var M=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==v){e.next=17;break}return N(!0),t=new h.a(window.ethereum),e.next=5,t.eth.getAccounts();case 5:if(!((a=e.sent).length>0)){e.next=15;break}return e.next=9,t.eth.net.getNetworkType();case 9:n=e.sent,c=n.toUpperCase(),D(c),C(a[0]),e.next=17;break;case 15:C("Not Connected"),N(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){M(),1===a&&c(0)}),[a,v]),Object(n.useEffect)((function(){localStorage.setItem("isMetaMask",v)}),[v]);var E=Object(n.useState)(!1),A=Object(r.a)(E,2),q=A[0],B=A[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)(o.a,{className:"nav-div",expand:"lg",children:Object(y.jsxs)(b.a,{children:[Object(y.jsxs)(o.a.Brand,{href:"/analytics",children:[Object(y.jsx)("img",{alt:"SafeEnviro",src:d.a,width:"120",className:"d-inline-block align-top"})," "]}),Object(y.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(o.a.Collapse,{className:" justify-content-end",id:"basic-navbar-nav",children:Object(y.jsxs)(l.a,{children:[Object(y.jsxs)(j.c,{className:"nav-link",to:"#",children:[Object(y.jsx)("strong",{children:"Account: "}),T]}),!0===v?Object(y.jsx)(x.a,{placement:"bottom",overlay:Object(y.jsxs)(g.a,{id:"tooltip-connected",children:[Object(y.jsx)("strong",{children:"Connected"}),"."]}),children:Object(y.jsxs)("button",{className:"conweb",children:[Object(y.jsx)("img",{className:"metalogo",alt:"Meta Mask",src:f})," ",P]})},"bottom-1"):Object(y.jsx)(x.a,{placement:"bottom",overlay:Object(y.jsxs)(g.a,{id:"tooltip-Notconnect",children:[Object(y.jsx)("strong",{children:"Connect to MetaMask"}),"."]}),children:Object(y.jsxs)("button",{className:"conweb",onClick:function(){"undefined"!==typeof window.ethereum?window.ethereum.request({method:"eth_requestAccounts"}).then((function(e){O()({title:"Connected to MetaMask!",text:"Successfully connected",icon:"success"}),N(!0)})).catch((function(e){O()({title:"Not Connected to MetaMask!",text:e.message,icon:"warning"}),N(!1)})):(O()({title:"Non ethereum browser detected!",text:"Please Install Metamask to Continue",icon:"warning",buttons:!0}),N(!1))},children:["CONNECT TO  ",Object(y.jsx)("img",{className:"metalogo",alt:"Meta Mask",src:f})]})},"bottom-2"),Object(y.jsx)(j.c,{className:"nav-link hover",activeClassName:"active",to:"/analytics",children:"Analytics"}),Object(y.jsx)(j.c,{className:"nav-link hover",activeClassName:"active",to:"/reviewform",children:"Review Table"}),Object(y.jsx)("button",{className:"signin",onClick:function(){O()({title:"Are you sure?",text:"Make sure you have finished your work!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e&&(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach((function(e){document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")})),B(!0))}))},children:"SIGN OUT"})]})})]})}),q&&Object(y.jsx)(u.a,{to:"/logoutconfirm"})]})};var N=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)(o.a,{className:"nav-div",expand:"lg",children:Object(y.jsxs)(b.a,{children:[Object(y.jsxs)(o.a.Brand,{href:"/analytics",children:[Object(y.jsx)("img",{alt:"SafeEnviro",src:d.a,width:"120",className:"d-inline-block align-top"})," "]}),Object(y.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(o.a.Collapse,{className:" justify-content-end",id:"basic-navbar-nav",children:Object(y.jsxs)(l.a,{children:[Object(y.jsx)(j.c,{className:"nav-link hover",activeClassName:"active",to:"/analytics",children:"Analytics"}),Object(y.jsx)(j.c,{className:"nav-link hover",activeClassName:"active",to:"/collectionform",children:"Collection Form"}),Object(y.jsx)("button",{className:"signin",onClick:function(){O()({title:"Are you sure?",text:"Make sure you have finished your work!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e&&(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach((function(e){document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")})),c(!0))}))},children:"SIGN OUT"})]})})]})}),a&&Object(y.jsx)(u.a,{to:"/logoutconfirm"})]})};var w=function(){return Object(y.jsx)("div",{children:Object(y.jsx)(o.a,{className:"nav-div",expand:"lg",children:Object(y.jsxs)(b.a,{children:[Object(y.jsxs)(o.a.Brand,{href:"/",children:[Object(y.jsx)("img",{alt:"SafeEnviro",src:d.a,width:"120",className:"d-inline-block align-top"})," "]}),Object(y.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(o.a.Collapse,{className:" justify-content-end",id:"basic-navbar-nav",children:Object(y.jsxs)(l.a,{children:[Object(y.jsx)(j.c,{className:"nav-link hover",activeClassName:"active",to:"/analytics",children:"Analytics"}),Object(y.jsx)(j.c,{className:"nav-link",activeClassName:"active",to:"/login",children:Object(y.jsx)("button",{className:"signin",children:"SIGN IN"})})]})})]})})})};t.a=function(){var e=sessionStorage.getItem("acctype");return sessionStorage.getItem("isAuth")?"Admin"===e?Object(y.jsx)(v,{}):"Collector"===e?Object(y.jsx)(N,{}):void 0:Object(y.jsx)(w,{})}},495:function(e,t){},518:function(e,t){},520:function(e,t){},596:function(e,t){},598:function(e,t){},631:function(e,t){},636:function(e,t){},638:function(e,t){},645:function(e,t){},658:function(e,t){},681:function(e,t){},690:function(e,t){},692:function(e,t){},72:function(e,t,a){},832:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(29),i=a.n(s),r=(a(57),a(32)),o=a(48),l=a(5),d=a(68),b=a.n(d),j=a(41),u=a(303),m=a(91),h=a(43),p=a(42),O=a(22),f=a(19),x=(a(72),a(426)),g=a.n(x),y=(a(482),a(49)),v=a(434),N=a(425),w=a(1);var S=function(){var e=Object(n.useState)(new Date),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(l.a)(s,2),r=i[0],o=i[1],d=Object(n.useState)(""),x=Object(l.a)(d,2),S=x[0],T=x[1],C=Object(n.useState)(""),k=Object(l.a)(C,2),I=k[0],P=k[1],D=Object(n.useState)(""),M=Object(l.a)(D,2),E=M[0],A=M[1],q=Object(n.useState)(""),B=Object(l.a)(q,2),H=B[0],L=B[1],_=Object(n.useState)(""),U=Object(l.a)(_,2),R=U[0],G=U[1],F=Object(n.useState)(!1),V=Object(l.a)(F,2),z=V[0],Y=V[1],J=Object(n.useState)(!1),W=Object(l.a)(J,2),Q=W[0],K=W[1],Z=Object(n.useState)(""),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=N.a.format(a,"DD/MM/YYYY hh:mm A");Object(n.useEffect)((function(){var e=window.localStorage.getItem("collection-data"),t=JSON.parse(e);t&&(o(t.collectionPoint),T(t.wasteType),P(t.quantity),A(t.collectedBy),L(t.collectingEquipment),ee(t.selectedTimezone))}),[]),Object(n.useEffect)((function(){var e={collectionPoint:r,wasteType:S,quantity:I,collectedBy:E,collectingEquipment:H,selectedTimezone:$};window.localStorage.setItem("collection-data",JSON.stringify(e))}));var ae=function(e){o(""),T(""),P(""),A(""),L(""),ee("")};return Object(w.jsxs)("div",{className:"bg-light",children:[Object(w.jsx)(y.a,{}),Object(w.jsx)(j.a,{className:"justify-content-center col-lg-9 col-md-10 col-sm-12 card-div",children:Object(w.jsx)(O.a,{className:"w-100",children:Object(w.jsxs)(O.a.Body,{children:[Object(w.jsx)(O.a.Title,{children:Object(w.jsx)("h2",{children:"Waste collection form"})}),Object(w.jsx)(O.a.Subtitle,{className:"mb-2 text-muted",children:"."}),Object(w.jsxs)(f.a,{className:"wastecollectionform",onSubmit:function(e){e.preventDefault();var t={collectionpoint:r,wastetype:S,quantity:I,collectedby:E,collectingequipment:H,date:te,zone:$};console.log(t),b.a.post("http://localhost:3001/collectionform",t).then((function(e){console.log(e),e.err?(G(e.data.err),Y(!1),setTimeout((function(){Y(!1)}),5e3)):e.data.err?(G(e.data.err.sqlMessage),Y(!0),setTimeout((function(){Y(!1)}),5e3)):(localStorage.clear(),ae(),G(e.data.message),K(!0),setTimeout((function(){K(!1)}),5e3))})).catch((function(e){console.log(e),G(e.message),Y(!0),setTimeout((function(){Y(!1)}),5e3)}))},children:[Object(w.jsxs)(h.a,{children:[Object(w.jsxs)(p.a,{lg:6,md:6,sm:12,children:[Object(w.jsxs)(f.a.Group,{className:"mb-3",controlId:"collectionPoint",children:[Object(w.jsx)(f.a.Label,{children:"Collection point"}),Object(w.jsx)(f.a.Control,{required:!0,type:"text",placeholder:"Collection point",name:"collectionPoint",onChange:function(e){return o(e.target.value)},value:r})]}),Object(w.jsxs)(f.a.Group,{className:"mb-3",controlId:"wasteType",children:[Object(w.jsx)(f.a.Label,{children:"Waste type"}),Object(w.jsxs)(f.a.Select,{required:!0,"aria-label":"Default select example",name:"wasteType",onChange:function(e){T(e.target.value)},value:S,children:[Object(w.jsx)("option",{value:"",disabled:!0,defaultValue:!0,children:"Waste Type"}),Object(w.jsx)("option",{value:"Plastic",children:"Plastic"}),Object(w.jsx)("option",{value:"Food",children:"Food"}),Object(w.jsx)("option",{value:"Paper",children:"Paper"})]})]}),Object(w.jsx)(f.a.Label,{children:"Quantity"}),Object(w.jsxs)(u.a,{className:"mb-3",children:[Object(w.jsx)(f.a.Control,{id:"quantity",required:!0,type:"number",min:"0",step:"any",placeholder:"Quantity",name:"quantity","aria-label":"quantity","aria-describedby":"quantity",onChange:function(e){P(e.target.value)},value:I}),Object(w.jsx)(u.a.Text,{id:"quantity",children:"Kg"})]})]}),Object(w.jsxs)(p.a,{lg:6,md:6,sm:12,children:[Object(w.jsxs)(f.a.Group,{className:"mb-3",controlId:"collectedBy",children:[Object(w.jsx)(f.a.Label,{children:"Collected by"}),Object(w.jsx)(f.a.Control,{required:!0,type:"text",placeholder:"Collected by",name:"collectedBy",onChange:function(e){A(e.target.value)},value:E})]}),Object(w.jsxs)(f.a.Group,{className:"mb-3",controlId:"collectingEquipment",children:[Object(w.jsx)(f.a.Label,{children:"Collecting equipment"}),Object(w.jsx)(f.a.Control,{required:!0,type:"text",placeholder:"Collected equipment",name:"collectingEquipment",onChange:function(e){L(e.target.value)},value:H})]}),Object(w.jsx)(f.a.Group,{className:"mb-3",controlId:"date",children:Object(w.jsxs)(h.a,{children:[Object(w.jsxs)(p.a,{lg:8,md:6,sm:12,children:[Object(w.jsx)(f.a.Label,{children:"Date & time"}),Object(w.jsx)(g.a,{className:"form-control",required:!0,name:"date",selected:a,onChange:function(e){return c(e)},showTimeSelect:!0,dateFormat:"Pp"})]}),Object(w.jsxs)(p.a,{lg:4,md:6,sm:12,className:"ps-0",children:[Object(w.jsx)(f.a.Label,{children:"Time Zone"}),Object(w.jsx)(v.a,{required:!0,placeholder:"Time Zone",value:$,onChange:ee})]})]})})]})]}),Object(w.jsx)(h.a,{className:"btn-div",children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)("button",{className:"btn-reset",type:"button",onClick:ae,children:"RESET"}),Object(w.jsx)("button",{className:"btn-submit w-45 mb-3",type:"submit",children:"SUBMIT FORM"}),z&&Object(w.jsx)(m.a,{variant:"danger",className:"alert-div",children:R}),Q&&Object(w.jsx)(m.a,{variant:"success",className:"alert-div",children:R})]})})]})]})})})]})},T=a(428);var C=function(){return Object(w.jsxs)("div",{className:"bg-light",children:[Object(w.jsx)(y.a,{}),Object(w.jsx)(j.a,{className:"justify-content-center card-div",children:Object(w.jsx)(O.a,{className:"home-card",children:Object(w.jsxs)(O.a.Body,{children:[Object(w.jsx)(O.a.Title,{children:Object(w.jsx)("h2",{children:"Forgot Password"})}),Object(w.jsx)(O.a.Subtitle,{className:"mb-2 text-muted",children:"."}),Object(w.jsxs)(f.a,{className:"wastecollectionform",children:[Object(w.jsx)(h.a,{children:Object(w.jsxs)(p.a,{children:[Object(w.jsxs)(f.a.Group,{className:"mb-3",controlId:"formGridAddress1",children:[Object(w.jsx)(f.a.Label,{children:"User Email"}),Object(w.jsx)(f.a.Control,{required:!0,type:"email",placeholder:"Enter your Email",name:"username"})]}),Object(w.jsx)("button",{className:"btn-signin",type:"submit",children:"Reset Password"})]})}),Object(w.jsx)(h.a,{children:Object(w.jsxs)("p",{className:"bottom-para mt-3",children:["Don't have an account? ",Object(w.jsx)(r.b,{to:"/signup",children:"Signup"})]})})]})]})})})]})},k=a(117);var I=function(){return Object(w.jsxs)("div",{className:"h-100",children:[Object(w.jsx)(y.a,{}),Object(w.jsx)(j.a,{className:"justify-content-center card-div",children:Object(w.jsx)(O.a,{className:"home-card",children:Object(w.jsx)(O.a.Body,{children:Object(w.jsx)(f.a,{className:"wastecollectionform",children:Object(w.jsx)(h.a,{children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)(h.a,{className:"flex justify-content-center",children:Object(w.jsx)("img",{alt:"SafeEnviro",src:k.a,className:"home-logo"})}),Object(w.jsx)("h6",{className:"welcomemsg",children:"Welcome to SafeEnviro DAPP"}),Object(w.jsx)(r.b,{to:"/signup",children:Object(w.jsx)("button",{className:"btn-signup",type:"submit",children:"SIGN UP"})}),Object(w.jsx)(r.b,{to:"/login",children:Object(w.jsx)("button",{className:"btn-signin",type:"submit",children:"SIGN IN"})})]})})})})})})]})};var P=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(l.a)(s,2),d=i[0],u=i[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),v=g[0],N=g[1],S=Object(n.useState)(!1),T=Object(l.a)(S,2),C=T[0],k=T[1],I=Object(n.useState)(!1),P=Object(l.a)(I,2),D=P[0],M=P[1],E=Object(n.useState)(!1),A=Object(l.a)(E,2),q=A[0],B=A[1];return b.a.defaults.withCredentials=!0,Object(n.useEffect)((function(){b.a.get("http://localhost:3001/login").then((function(e){!0===e.data.loggedIn?(sessionStorage.setItem("user",e.data.user[0].username),sessionStorage.setItem("acctype",e.data.user[0].type),sessionStorage.setItem("user",e.data.user),sessionStorage.setItem("isAuth",e.data.auth),M(!0)):console.log(e)}))}),[]),Object(w.jsxs)("div",{className:"bg-light",children:[Object(w.jsx)(y.a,{}),Object(w.jsx)(j.a,{className:"justify-content-center card-div",children:Object(w.jsx)(O.a,{className:"home-card",children:Object(w.jsxs)(O.a.Body,{children:[Object(w.jsx)(O.a.Title,{children:Object(w.jsx)("h2",{children:"Sign in to your account"})}),Object(w.jsx)(O.a.Subtitle,{className:"mb-2 text-muted",children:"."}),Object(w.jsxs)(f.a,{className:"wastecollectionform",onSubmit:function(e){e.preventDefault();var t={username:a,password:d};b.a.post("http://localhost:3001/login",t).then((function(e){e.data.auth?(sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("user",e.data.result[0].username),sessionStorage.setItem("acctype",e.data.result[0].type),sessionStorage.setItem("isAuth",e.data.auth),k(!0)):(B(!0),console.log(e),e.data.err||N(e.data.message),e.data.err&&N("Database Connection Refused with Error Code: "+e.data.err.errno))})).catch((function(e){N(e.message),console.log(e),B(!0)}))},children:[Object(w.jsx)(h.a,{children:Object(w.jsxs)(p.a,{children:[q&&Object(w.jsx)(m.a,{variant:"danger",className:"alert-div",children:v}),Object(w.jsxs)(f.a.Group,{className:"mb-3",controlId:"username",children:[Object(w.jsx)(f.a.Label,{children:"User Name"}),Object(w.jsx)(f.a.Control,{required:!0,type:"text",placeholder:"User Name",name:"username",onChange:function(e){c(e.target.value)}})]}),Object(w.jsxs)(f.a.Group,{className:"mb-3",controlId:"password",children:[Object(w.jsx)(f.a.Label,{children:"Password"}),Object(w.jsx)(f.a.Control,{required:!0,type:"password",placeholder:"Password",name:"password",autoComplete:"username current-password",onChange:function(e){u(e.target.value)}})]}),Object(w.jsxs)("p",{className:"bottom-para",children:["Forgot the password? ",Object(w.jsx)(r.b,{to:"/forgotpassword",children:"Reset"})]}),Object(w.jsx)("button",{className:"btn-signin",type:"submit",children:"SIGN IN"})]})}),Object(w.jsx)(h.a,{children:Object(w.jsxs)("p",{className:"bottom-para mt-3",children:["Don't have an account? ",Object(w.jsx)(r.b,{to:"/signup",children:"Signup"})]})})]})]})})}),C&&Object(w.jsx)(o.a,{exact:!0,to:"/loginconfirm"}),D&&Object(w.jsx)(o.a,{exact:!0,to:"/alreadyloggedin"})]})};var D=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(l.a)(s,2),d=i[0],u=i[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),v=g[0],N=g[1],S=Object(n.useState)(""),T=Object(l.a)(S,2),C=T[0],k=T[1],I=Object(n.useState)(""),P=Object(l.a)(I,2),D=P[0],M=P[1],E=Object(n.useState)(!1),A=Object(l.a)(E,2),q=A[0],B=A[1],H=Object(n.useState)(!1),L=Object(l.a)(H,2),_=L[0],U=L[1];return Object(w.jsxs)("div",{className:"bg-light",children:[Object(w.jsx)(y.a,{}),Object(w.jsxs)(j.a,{className:"justify-content-center card-div",children:[Object(w.jsx)(O.a,{className:"home-card",children:Object(w.jsxs)(O.a.Body,{children:[Object(w.jsx)(O.a.Title,{children:Object(w.jsx)("h2",{children:"Create an account"})}),Object(w.jsx)(O.a.Subtitle,{className:"mb-2 text-muted",children:"."}),Object(w.jsxs)(f.a,{className:"wastecollectionform",onSubmit:function(e){e.preventDefault();var t={username:d,email:a,password:v,type:C};console.log(t),b.a.post("http://localhost:3001/signup",t).then((function(e){console.log(e),e.err?(M(e.data.err),B(!1),U(!0)):e.data.err?(M("This User Name is already in use."),B(!1),U(!0)):B(!0)})).catch((function(e){console.log(e.message),U(!0)}))},children:[Object(w.jsx)(h.a,{children:Object(w.jsxs)(p.a,{children:[_&&Object(w.jsx)(m.a,{variant:"danger",className:"alert-div",children:D}),Object(w.jsxs)(f.a.Group,{className:"mb-3",controlId:"email",children:[Object(w.jsx)(f.a.Label,{children:"Email"}),Object(w.jsx)(f.a.Control,{required:!0,type:"email",placeholder:"Your Email",name:"email",onChange:function(e){c(e.target.value)}}),Object(w.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please use a valid Email"})]}),Object(w.jsxs)(f.a.Group,{className:"mb-3",controlId:"name",children:[Object(w.jsx)(f.a.Label,{children:"User Name"}),Object(w.jsx)(f.a.Control,{required:!0,type:"text",placeholder:"User Name",name:"name",onChange:function(e){u(e.target.value)}}),Object(w.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please choose a user name."})]}),Object(w.jsxs)(f.a.Group,{className:"mb-3",controlId:"password",children:[Object(w.jsx)(f.a.Label,{children:"Password"}),Object(w.jsx)(f.a.Control,{required:!0,type:"password",placeholder:"Password",name:"password",autoComplete:"new-password",onChange:function(e){N(e.target.value)}}),Object(w.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please choose a Password."})]}),Object(w.jsxs)(f.a.Group,{className:"mb-3",controlId:"accounttype",children:[Object(w.jsx)(f.a.Label,{children:"Account Type"}),Object(w.jsxs)(f.a.Select,{required:!0,"aria-label":"Default select example",name:"accounttype",onChange:function(e){k(e.target.value)},value:C,children:[Object(w.jsx)("option",{value:"",disabled:!0,defaultValue:!0,children:"Account Type"}),Object(w.jsx)("option",{value:"Admin",children:"Admin"}),Object(w.jsx)("option",{value:"Collector",children:"Collector"})]}),Object(w.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please choose the User Account Type."})]}),Object(w.jsx)("button",{className:"btn-signin",type:"submit",children:"SIGN UP"})]})}),Object(w.jsx)(h.a,{children:Object(w.jsxs)("p",{className:"bottom-para my-3",children:["Already have an account? ",Object(w.jsx)(r.b,{to:"/login",children:"Signin"})]})})]})]})}),q&&Object(w.jsx)(o.a,{to:"/signupconfirm"})]})]})},M=a.p+"static/media/img.cd1cb391.png";var E=function(){return Object(w.jsxs)("div",{className:"bg-light",children:[Object(w.jsx)(y.a,{}),Object(w.jsx)(j.a,{className:"justify-content-center card-div",children:Object(w.jsx)(O.a,{className:"home-card",children:Object(w.jsxs)(O.a.Body,{children:[Object(w.jsxs)(O.a.Title,{align:"center",children:[Object(w.jsx)("img",{alt:"Complete",src:M,width:"60",className:"pb-3"})," ",Object(w.jsx)("br",{}),"Confirmation Email has been sent!"]}),Object(w.jsx)(O.a.Subtitle,{align:"center",className:"mb-2 text-muted size-12",children:'Please check your email inbox and click on "Reset Password".'}),Object(w.jsx)(f.a,{children:Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{children:Object(w.jsx)(r.b,{to:"/login",children:Object(w.jsx)("button",{className:"btn-backtosignin",type:"submit",children:"BACK TO SIGN IN PAGE"})})})})})]})})})]})};var A=function(){return Object(w.jsxs)("div",{className:"bg-light",children:[Object(w.jsx)(y.a,{}),Object(w.jsx)(j.a,{className:"justify-content-center card-div",children:Object(w.jsx)(O.a,{className:"home-card",children:Object(w.jsxs)(O.a.Body,{children:[Object(w.jsxs)(O.a.Title,{align:"center",children:[Object(w.jsx)("img",{alt:"Complete",src:M,width:"60",className:"pb-3"})," ",Object(w.jsx)("br",{}),"You Successfully Signed Up!"]}),Object(w.jsx)(O.a.Subtitle,{align:"center",className:"mb-2 text-muted size-12",children:"Please go to Sign In page to login."}),Object(w.jsx)(f.a,{children:Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{children:Object(w.jsx)(r.b,{to:"/login",children:Object(w.jsx)("button",{className:"btn-backtosignin",type:"submit",children:"SIGN IN"})})})})})]})})})]})},q=a(432),B=a(195),H=a(191),L=a.p+"static/media/arrow-popout.306421d4.svg";var _=function(){var e=[{field:"id",headerName:"ID",width:91,sortable:!0},{field:"collectionpoint",headerName:"Collection Point",width:179,sortable:!0},{field:"collectedby",headerName:"Collected By",width:160,sortable:!0},{field:"wastetype",headerName:"Waste Type",width:130,sortable:!1},{field:"collectingequipment",headerName:"Equipment",width:140,sortable:!1},{field:"quantity",headerName:"Quantity",width:130,sortable:!0},{field:"dateandtime",headerName:"Date & Time",width:250,sortable:!0},{field:"tippingpoint",headerName:"Tipping Point",width:165,sortable:!0},{field:"blockId",headerName:"Block ID",width:130,sortable:!0},{field:"transactionHash",headerName:" ",width:50,sortable:!1,renderCell:function(e){return""===e.value?null:Object(w.jsx)(B.a,{placement:"bottom",overlay:Object(w.jsxs)(H.a,{id:"tooltip-connected",children:[Object(w.jsx)("strong",{children:"View on Etherscan"}),"."]}),children:Object(w.jsx)("div",{children:Object(w.jsx)("a",{className:"rop-link",href:"https://ropsten.etherscan.io/tx/".concat(e.value),target:"_blank",rel:"noreferrer",children:Object(w.jsx)("img",{src:L,alt:""})})})},"bottom-1")}}],t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){b.a.get("http://localhost:3001/analytics").then((function(e){s(e.data.result)})).catch((function(e){console.log(e)}))}),[c]),Object(w.jsxs)("div",{className:"bg-light",children:[Object(w.jsx)(y.a,{}),Object(w.jsx)(j.a,{fluid:!0,className:"col-lg-12 col-md-12 col-sm-12 card-div",children:Object(w.jsx)(O.a,{className:"w-100",children:Object(w.jsx)(q.a,{autoHeight:!0,rows:c,columns:e,pageSize:10})})})]})};var U=function(){return Object(w.jsxs)("div",{className:"bg-light",children:[Object(w.jsx)(y.a,{}),Object(w.jsx)(j.a,{className:"justify-content-center card-div",children:Object(w.jsx)(O.a,{className:"home-card",children:Object(w.jsxs)(O.a.Body,{children:[Object(w.jsxs)(O.a.Title,{align:"center",children:[Object(w.jsx)("img",{alt:"Complete",src:M,width:"60",className:"pb-3"})," ",Object(w.jsx)("br",{}),"You Successfully Signed In!"]}),Object(w.jsx)(O.a.Subtitle,{align:"center",className:"mb-2 text-muted size-12",children:"Please go to your Home Page"}),Object(w.jsx)(f.a,{children:Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{children:Object(w.jsx)(r.b,{to:"/dash",children:Object(w.jsx)("button",{className:"btn-backtosignin",type:"submit",children:"Home"})})})})})]})})})]})};var R=function(){var e=sessionStorage.getItem("acctype");return sessionStorage.getItem("isAuth")?"Admin"===e?Object(w.jsx)(o.a,{to:"/reviewform"}):"Collector"===e?Object(w.jsx)(o.a,{to:"/collectionform"}):void 0:Object(w.jsx)(o.a,{to:"/"})},G=a(3),F=a(13),V=["component"];var z=function(e){var t=e.component,a=Object(F.a)(e,V),n=sessionStorage.getItem("acctype"),c=sessionStorage.getItem("isAuth");return Object(w.jsx)(o.b,Object(G.a)(Object(G.a)({},a),{},{render:function(e){return c?"Admin"===n?Object(w.jsx)(t,{}):"Collector"===n?Object(w.jsx)(o.a,{to:{pathname:"/collectionform",state:{from:e.location}}}):void 0:Object(w.jsx)(o.a,{to:{pathname:"/",state:{from:e.location}}})}}))},Y=["component"];var J=function(e){var t=e.component,a=Object(F.a)(e,Y),n=sessionStorage.getItem("acctype"),c=sessionStorage.getItem("isAuth");return Object(w.jsx)(o.b,Object(G.a)(Object(G.a)({},a),{},{render:function(e){return c?"Admin"===n?Object(w.jsx)(o.a,{to:{pathname:"/reviewform",state:{from:e.location}}}):"Collector"===n?Object(w.jsx)(t,{}):void 0:Object(w.jsx)(o.a,{to:{pathname:"/",state:{from:e.location}}})}}))};var W=function(){return Object(w.jsxs)("div",{className:"bg-light",children:[Object(w.jsx)(y.a,{}),Object(w.jsx)(j.a,{className:"justify-content-center card-div",children:Object(w.jsx)(O.a,{className:"home-card",children:Object(w.jsxs)(O.a.Body,{children:[Object(w.jsxs)(O.a.Title,{align:"center",children:[Object(w.jsx)("img",{alt:"Complete",src:M,width:"60",className:"pb-3"})," ",Object(w.jsx)("br",{}),"You are already successfully Signed In!"]}),Object(w.jsx)(O.a.Subtitle,{align:"center",className:"mb-2 text-muted size-12",children:"Please go to your Home Page"}),Object(w.jsx)(f.a,{children:Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{children:Object(w.jsx)(r.b,{to:"/dash",children:Object(w.jsx)("button",{className:"btn-backtosignin",type:"submit",children:"Home"})})})})})]})})})]})};var Q=function(){return Object(w.jsxs)("div",{className:"bg-light",children:[Object(w.jsx)(y.a,{}),Object(w.jsx)(j.a,{className:"justify-content-center card-div",children:Object(w.jsx)(O.a,{className:"home-card",children:Object(w.jsxs)(O.a.Body,{children:[Object(w.jsxs)(O.a.Title,{align:"center",children:[Object(w.jsx)("img",{alt:"Complete",src:M,width:"60",className:"pb-3"})," ",Object(w.jsx)("br",{}),"You Successfully Signed Out!"]}),Object(w.jsx)(O.a.Subtitle,{align:"center",className:"mb-2 text-muted size-12",children:"Please go to Sign In page to login Agian!"}),Object(w.jsx)(f.a,{children:Object(w.jsx)(h.a,{children:Object(w.jsx)(p.a,{children:Object(w.jsx)(r.b,{to:"/login",children:Object(w.jsx)("button",{className:"btn-backtosignin",type:"submit",children:"Sign in"})})})})})]})})})]})};var K=function(){return Object(w.jsx)("div",{children:Object(w.jsx)(r.a,{children:Object(w.jsxs)(o.d,{children:[Object(w.jsx)(o.b,{path:"/",exact:!0,component:I}),Object(w.jsx)(o.b,{path:"/dash",exact:!0,component:R}),Object(w.jsx)(J,{path:"/collectionform",exact:!0,component:S}),Object(w.jsx)(z,{path:"/reviewform",component:T.a}),Object(w.jsx)(o.b,{path:"/signup",exact:!0,component:D}),Object(w.jsx)(o.b,{path:"/forgotpassword",exact:!0,component:C}),Object(w.jsx)(o.b,{path:"/passwordconfirm",exact:!0,component:E}),Object(w.jsx)(o.b,{path:"/signupconfirm",exact:!0,component:A}),Object(w.jsx)(o.b,{path:"/loginconfirm",exact:!0,component:U}),Object(w.jsx)(o.b,{path:"/alreadyloggedin",exact:!0,component:W}),Object(w.jsx)(o.b,{path:"/login",exact:!0,component:P}),Object(w.jsx)(o.b,{path:"/analytics",exact:!0,component:_}),Object(w.jsx)(o.b,{path:"/logoutconfirm",exact:!0,component:Q})]})})})};i.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(K,{})}),document.getElementById("root"))}},[[832,1,2]]]);
//# sourceMappingURL=main.bcc4cc20.chunk.js.map